# Production Environment Configuration Template
# Copy this to .env.production and fill in the values for Railway deployment

# =============================================================================
# DATABASE CONFIGURATION (Railway will provide these)
# =============================================================================
# Railway provides DATABASE_URL automatically - use ${{Postgres.DATABASE_URL}}
POSTGRES_URL=${DATABASE_URL}
POSTGRES_DB=railway
POSTGRES_USER=postgres
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_PORT=5432

# =============================================================================
# REDIS CONFIGURATION (Railway will provide this)
# =============================================================================
# Railway provides REDIS_URL automatically - use ${{Redis.REDIS_URL}}
REDIS_URL=${REDIS_URL}
REDIS_PORT=6379

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Update this with your Railway frontend URL after deployment
# Format: https://your-frontend-name.railway.app
UI_ORIGIN=https://keyveve-frontend-production.railway.app

# =============================================================================
# JWT KEYS (Copy from your local .env file)
# =============================================================================
JWT_PRIVATE_KEY_PEM="-----BEGIN PRIVATE KEY-----
YOUR_PRIVATE_KEY_HERE
-----END PRIVATE KEY-----"

JWT_PUBLIC_KEY_PEM="-----BEGIN PUBLIC KEY-----
YOUR_PUBLIC_KEY_HERE
-----END PUBLIC KEY-----"

# =============================================================================
# EXTERNAL APIs (REQUIRED - Get your own keys)
# =============================================================================
# OpenAI API Key - Required for AI functionality
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo-preview

# Weather API Key - Required for weather data
# Get free key from: https://openweathermap.org/api
WEATHER_API_KEY=your-weather-api-key-here

# =============================================================================
# PERFORMANCE & CIRCUIT BREAKER SETTINGS
# =============================================================================
FANOUT_CAP=4
AIRPORT_BUFFER_MIN=120
TRANSIT_BUFFER_MIN=15

# =============================================================================
# CACHE TTLs (hours)
# =============================================================================
FX_TTL_HOURS=24
WEATHER_TTL_HOURS=24

# =============================================================================
# PDF OCR SETTINGS (Optional)
# =============================================================================
ENABLE_PDF_OCR=true
OCR_DPI_SCALE=2.0
OCR_MIN_TEXT_THRESHOLD=50
TESSERACT_PATH=/usr/bin/tesseract

# =============================================================================
# MCP CONFIGURATION
# =============================================================================
MCP_ENABLED=true
MCP_PORT=3001
# Use Railway internal service name
MCP_WEATHER_ENDPOINT=http://mcp-weather:3001

# =============================================================================
# PORT CONFIGURATION (Railway will override these)
# =============================================================================
BACKEND_PORT=8000
FRONTEND_PORT=8501

# =============================================================================
# EVALUATION & TESTING
# =============================================================================
EVAL_RNG_SEED=42

# =============================================================================
# RAILWAY-SPECIFIC NOTES
# =============================================================================
# 1. Railway automatically provides DATABASE_URL and REDIS_URL
#    Use Railway's variable reference syntax: ${{Postgres.DATABASE_URL}}
#
# 2. After deploying services, update UI_ORIGIN with actual frontend URL
#
# 3. For service-to-service communication, use Railway's internal service names:
#    - Backend: http://backend:8000
#    - Frontend: http://frontend:8501
#    - MCP Server: http://mcp-weather:3001
#    - PostgreSQL: Automatically configured via DATABASE_URL
#    - Redis: Automatically configured via REDIS_URL
#
# 4. Don't commit this file with real API keys to version control!
